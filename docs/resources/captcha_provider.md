---
page_title: "pingfederate_captcha_provider Resource - terraform-provider-pingfederate"
subcategory: ""
description: |-
  Resource to create and manage CAPTCHA and Risk Providers (including PingOne Protect) for use with external Risk services.
---

# pingfederate_captcha_provider (Resource)

Resource to create and manage CAPTCHA and Risk Providers (including PingOne Protect) for use with external Risk services.

## Example Usage - reCAPTCHA v2 Invisible

```terraform
resource "pingfederate_captcha_provider" "reCAPTCHAv2ProviderExample" {
  provider_id = "myreCAPTCHAv2ProviderId"
  name        = "My reCAPTCHA v2 Provider"
  configuration = {
    fields = [
      {
        name  = "Site Key"
        value = var.recaptcha_v2_site_key
      }
    ]
    sensitive_fields = [
      {
        name  = "Secret Key"
        value = var.recaptcha_v2_secret_key
      }
    ]
  }
  plugin_descriptor_ref = {
    id = "com.pingidentity.captcha.ReCaptchaV2InvisiblePlugin"
  }
}
```

## Example Usage - PingOne Protect

```terraform
resource "pingfederate_pingone_connection" "example" {
  name        = "My PingOne Environment"
  description = "My environment"
  credential  = var.pingone_gateway_credential
}

resource "pingfederate_captcha_provider" "riskProviderExample" {
  provider_id = "pingoneProtectProviderId"
  name        = "PingOne Protect Provider"
  configuration = {
    fields = [
      {
        "name" : "PingOne Environment",
        "value" : format("%s|%s", pingfederate_pingone_connection.example.id, var.pingone_environment_id)
      },
      {
        "name" : "PingOne Risk Policy",
        "value" : var.pingone_risk_policy_id
      },
      {
        "name" : "Enable Risk Evaluation",
        "value" : "true"
      },
      {
        "name" : "Password Encryption",
        "value" : "SHA-256"
      },
      {
        "name" : "Follow Recommended Action",
        "value" : "true"
      },
      {
        "name" : "Failure Mode",
        "value" : "Continue with fallback policy decision"
      },
      {
        "name" : "Fallback Policy Decision Value",
        "value" : "MEDIUM"
      },
      {
        "name" : "API Request Timeout",
        "value" : "2000"
      },
      {
        "name" : "Proxy Settings",
        "value" : "System Defaults"
      },
      {
        "name" : "Custom Proxy Host",
        "value" : ""
      },
      {
        "name" : "Custom Proxy Port",
        "value" : ""
      },
      {
        "name" : "Custom connection pool",
        "value" : "50"
      }
    ]
  }
  plugin_descriptor_ref = {
    id = "com.pingidentity.adapters.pingone.protect.PingOneProtectProvider"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration` (Attributes) Plugin instance configuration. (see [below for nested schema](#nestedatt--configuration))
- `name` (String) The plugin instance name. The name can be modified once the instance is created.
- `plugin_descriptor_ref` (Attributes) Reference to the plugin descriptor for this instance. This field is immutable and will trigger a replacement plan if changed. (see [below for nested schema](#nestedatt--plugin_descriptor_ref))
- `provider_id` (String) The ID of the plugin instance. This field is immutable and will trigger a replacement plan if changed.

### Optional

- `parent_ref` (Attributes) The reference to this plugin's parent instance. The parent reference is only accepted if the plugin type supports parent instances. Note: This parent reference is required if this plugin instance is used as an overriding plugin (e.g. connection adapter overrides) (see [below for nested schema](#nestedatt--parent_ref))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--configuration"></a>
### Nested Schema for `configuration`

Optional:

- `fields` (Attributes Set) List of configuration fields. (see [below for nested schema](#nestedatt--configuration--fields))
- `sensitive_fields` (Attributes Set) List of sensitive configuration fields. (see [below for nested schema](#nestedatt--configuration--sensitive_fields))
- `tables` (Attributes List) List of configuration tables. (see [below for nested schema](#nestedatt--configuration--tables))

Read-Only:

- `fields_all` (Attributes Set) List of configuration fields. This attribute will include any values set by default by PingFederate. (see [below for nested schema](#nestedatt--configuration--fields_all))
- `tables_all` (Attributes List) List of configuration tables. This attribute will include any values set by default by PingFederate. (see [below for nested schema](#nestedatt--configuration--tables_all))

<a id="nestedatt--configuration--fields"></a>
### Nested Schema for `configuration.fields`

Required:

- `name` (String) The name of the configuration field.
- `value` (String) The value for the configuration field.


<a id="nestedatt--configuration--sensitive_fields"></a>
### Nested Schema for `configuration.sensitive_fields`

Required:

- `name` (String) The name of the configuration field.

Optional:

- `encrypted_value` (String) For encrypted or hashed fields, this attribute contains the encrypted representation of the field's value, if a value is defined. Either this attribute or `value` must be specified.
- `value` (String, Sensitive) The sensitive value for the configuration field. Either this attribute or `encrypted_value` must be specified`.


<a id="nestedatt--configuration--tables"></a>
### Nested Schema for `configuration.tables`

Required:

- `name` (String) The name of the table.

Optional:

- `rows` (Attributes List) List of table rows. (see [below for nested schema](#nestedatt--configuration--tables--rows))

<a id="nestedatt--configuration--tables--rows"></a>
### Nested Schema for `configuration.tables.rows`

Optional:

- `default_row` (Boolean) Whether this row is the default.
- `fields` (Attributes Set) The configuration fields in the row. (see [below for nested schema](#nestedatt--configuration--tables--rows--fields))
- `sensitive_fields` (Attributes Set) The sensitive configuration fields in the row. (see [below for nested schema](#nestedatt--configuration--tables--rows--sensitive_fields))

<a id="nestedatt--configuration--tables--rows--fields"></a>
### Nested Schema for `configuration.tables.rows.fields`

Required:

- `name` (String) The name of the configuration field.
- `value` (String) The value for the configuration field.


<a id="nestedatt--configuration--tables--rows--sensitive_fields"></a>
### Nested Schema for `configuration.tables.rows.sensitive_fields`

Required:

- `name` (String) The name of the configuration field.

Optional:

- `encrypted_value` (String) For encrypted or hashed fields, this attribute contains the encrypted representation of the field's value, if a value is defined. Either this attribute or `value` must be specified.
- `value` (String, Sensitive) The sensitive value for the configuration field. Either this attribute or `encrypted_value` must be specified`.




<a id="nestedatt--configuration--fields_all"></a>
### Nested Schema for `configuration.fields_all`

Required:

- `name` (String) The name of the configuration field.
- `value` (String) The value for the configuration field.


<a id="nestedatt--configuration--tables_all"></a>
### Nested Schema for `configuration.tables_all`

Required:

- `name` (String) The name of the table.

Optional:

- `rows` (Attributes List) List of table rows. (see [below for nested schema](#nestedatt--configuration--tables_all--rows))

<a id="nestedatt--configuration--tables_all--rows"></a>
### Nested Schema for `configuration.tables_all.rows`

Optional:

- `default_row` (Boolean) Whether this row is the default.
- `fields` (Attributes Set) The configuration fields in the row. (see [below for nested schema](#nestedatt--configuration--tables_all--rows--fields))

<a id="nestedatt--configuration--tables_all--rows--fields"></a>
### Nested Schema for `configuration.tables_all.rows.fields`

Required:

- `name` (String) The name of the configuration field.
- `value` (String) The value for the configuration field.





<a id="nestedatt--plugin_descriptor_ref"></a>
### Nested Schema for `plugin_descriptor_ref`

Required:

- `id` (String) The ID of the resource. This field is immutable and will trigger a replacement plan if changed.


<a id="nestedatt--parent_ref"></a>
### Nested Schema for `parent_ref`

Required:

- `id` (String) The ID of the resource.

## Import

Import is supported using the following syntax:

~> "myCaptchaProviderId" should be the id of the Captcha provider to be imported

```shell
terraform import pingfederate_captcha_provider.captchaProviderExample myCaptchaProviderId
```