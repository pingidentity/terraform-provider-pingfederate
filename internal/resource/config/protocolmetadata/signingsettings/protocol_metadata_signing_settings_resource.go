// Code generated by ping-terraform-plugin-framework-generator

package protocolmetadatasigningsettings

import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework/resource"
	client "github.com/pingidentity/pingfederate-go-client/v1210/configurationapi"
	"github.com/pingidentity/terraform-provider-pingfederate/internal/resource/config"
)

func (r *protocolMetadataSigningSettingsResource) Delete(ctx context.Context, req resource.DeleteRequest, resp *resource.DeleteResponse) {
	// This resource is singleton, so it can't be deleted from the service. Deleting this resource will remove it from Terraform state.
	// Instead this will reset the resource to its default state.
	apiUpdateRequest := r.apiClient.ProtocolMetadataAPI.UpdateSigningSettings(config.AuthContext(ctx, r.providerConfig))
	apiUpdateRequest = apiUpdateRequest.Body(client.MetadataSigningSettings{})
	_, httpResp, err := r.apiClient.ProtocolMetadataAPI.UpdateSigningSettingsExecute(apiUpdateRequest)
	if err != nil {
		config.ReportHttpError(ctx, &resp.Diagnostics, "An error occurred while resetting the protocolMetadataSigningSettings", err, httpResp)
	}
}
